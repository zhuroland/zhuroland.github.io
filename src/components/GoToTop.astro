<a data-scroll-top href="#" title="Go to top">
	<svg
		xmlns="http://www.w3.org/2000/svg"
		width="24"
		height="24"
		viewBox="0 0 24 24"
		fill="none"
		stroke="currentColor"
		stroke-width="2"
		stroke-linecap="round"
		stroke-linejoin="round"
		class="lucide lucide-move-up"
		><path d="M8 6L12 2L16 6"></path><path d="M12 2V22"></path></svg
	></a
>

<script>
	const scrollTopButton =
		document.querySelector<HTMLAnchorElement>('[data-scroll-top]');
	let scrollValue = 0;

	window.addEventListener('scroll', (e) => {
		const scrollingElement = (e.target as Document)
			.scrollingElement as HTMLElement;
		// exit if none
		if (!scrollingElement || !scrollTopButton) return;

		const isToTop = scrollingElement.scrollTop < scrollValue;

		// set go to top button visibility
		if (isToTop) scrollTopButton.classList.add('visible');
		else scrollTopButton.classList.remove('visible');

		// remove if already at top
		if (scrollingElement.scrollTop <= 70)
			scrollTopButton.classList.remove('visible');

		// if scroll rich the end of the page
		if (
			scrollingElement.clientHeight + scrollingElement.scrollTop + 100 >=
			scrollingElement.scrollHeight
		)
			scrollTopButton.classList.add('visible');
		// keep track the scroll value
		scrollValue = scrollingElement.scrollTop;
	});
</script>

<style>
	a {
		display: grid;
		justify-content: center;
		align-items: center;
		position: fixed;
		right: 0;
		bottom: 0;
		margin: 3rem 2rem;
		background: #313542;
		text-decoration: none;
		border: 1px solid rgba(var(--accent-light));
		height: 3rem;
		width: 3rem;
		border-radius: 0.5rem;
		opacity: 0;
		scale: 0;
		transform: translateY(100%);
		transition: all 200ms;
	}
	.visible {
		scale: 1;
		opacity: 1;
		transform: translateY(0);
	}
</style>
